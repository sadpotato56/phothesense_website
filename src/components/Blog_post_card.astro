---
// src/components/BlogCard.astro
interface Props {
  title: string;
  date: string;
  readTime: string;
  location: string;
  image: string;
  url: string;
}

const { title, date, readTime, location, image, url } = Astro.props;
---

<a href={url} class="blog-card-link">
  <article class="blog-card">
    <div class="image-wrapper">
      <img src={image} alt={title} loading="lazy" />
    </div>

    <div class="card-content">
      <div class="meta-row">
        <span class="date">{date}</span>
        <span class="read-time">{readTime}</span>
      </div>

      <h3 class="card-title">{title}</h3>

      <div class="slide-up-footer" data-hover-text="READ STORY →">
        <span>{location}</span>
      </div>
    </div>
  </article>
</a>

<style>
  /* --- 1. Cấu trúc thẻ --- */
  .blog-card-link {
    text-decoration: none;
    color: inherit;
    display: block;
    height: 100%; /* Để thẻ căng hết chiều cao grid */
  }

  .blog-card {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: transparent;
  }

  /* --- 2. Ảnh Vuông (1:1) --- */
  .image-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 1 / 1; /* Quan trọng: Tạo hình vuông */
    overflow: hidden;
    margin-bottom: 20px;
    background-color: #eee; /* Placeholder màu xám */
  }

  .image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .blog-card-link:hover .image-wrapper img {
    transform: scale(1.08); /* Zoom ảnh khi hover */
  }

  /* --- 3. Nội dung & Typography --- */
  .card-content {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
  }

  .meta-row {
    display: flex;
    justify-content: space-between;
    font-family: 'Inter', sans-serif; /* Hoặc font Mono nếu muốn giống ảnh code */
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #333;
    margin-bottom: 12px;
  }

  .card-title {
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 700;
    text-transform: uppercase;
    line-height: 1.4;
    color: #1a1a1a;
    margin: 0 0 40px 0; /* Khoảng cách lớn xuống footer */
    
    /* Đường kẻ đen ngăn cách */
    border-bottom: 1px solid #1a1a1a;
    padding-bottom: 15px;
    min-height: 58px; /* Giữ độ cao tiêu đề đồng đều (khoảng 2 dòng) */
  }

  /* --- 4. Hiệu ứng Slide Up Text --- */
  .slide-up-footer {
    position: relative;
    overflow: hidden;
    height: 20px;
    margin-top: auto; /* Đẩy xuống đáy */
    
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #555;
  }

  .slide-up-footer span {
    display: block;
    transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  }

  /* Chữ "READ STORY" ẩn bên dưới */
  .slide-up-footer::after {
    content: attr(data-hover-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform: translateY(100%);
    transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
    color: #1C4278; /* Màu xanh nổi bật khi hover */
  }

  /* Kích hoạt hiệu ứng khi hover thẻ a */
  .blog-card-link:hover .slide-up-footer span {
    transform: translateY(-100%);
  }
  .blog-card-link:hover .slide-up-footer::after {
    transform: translateY(0);
  }
</style>